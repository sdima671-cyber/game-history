<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢—Ä–æ–ø–∞ –∏–≥—Ä–æ–≤–æ–π –∏—Å—Ç–æ—Ä–∏–∏ ¬∑ –ø—Ä–∏—Ä–æ–¥–Ω–∞—è —Ç—Ä–æ–ø–∞</title>
  <!-- Google Fonts: Inter + Playfair Display -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">
  <!-- Font Awesome (–º–∏–Ω–∏–º—É–º) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- –û–±—â–∏–π —Å—Ç–∏–ª—å -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <header style="display: flex; justify-content: space-between; align-items: flex-end;">
      <div>
        <h1>–¢—Ä–æ–ø–∞ –∏–≥—Ä–æ–≤–æ–π<br>–∏—Å—Ç–æ—Ä–∏–∏</h1>
        <div class="sub">–ø—Ä–æ–≥—É–ª–∫–∞ —Å–∫–≤–æ–∑—å –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è</div>
      </div>
      <span style="font-size: 2.2rem; color: #a3b5a0;">üåø</span>
    </header>

    <!-- –î–û–†–û–ì–ê-–ó–ú–ï–ô–ö–ê (–ò–ó–í–ò–õ–ò–°–¢–ê–Ø –¢–†–û–ü–ê) -->
    <div class="timeline-path" id="trailContainer">
      <svg class="path-svg" id="trailSvg"></svg>
      <div class="markers-layer" id="markerLayer"></div>
    </div>

    <footer style="text-align: center; color: #7d927d; margin-top: 1.5rem;">
      <span>–Ω–∞–∂–º–∏ –Ω–∞ –∫–∞–º–µ–Ω—å ‚Äî —É–∑–Ω–∞–π –∏—Å—Ç–æ—Ä–∏—é –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è</span>
    </footer>
  </div>

  <script>
    // ---------------------------------------------
    // –î–ê–ù–ù–´–ï –î–ï–°–Ø–¢–ò–õ–ï–¢–ò–ô (–∫—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞ + —Å—Å—ã–ª–∫–∞)
    // ---------------------------------------------
    const decades = [
      {
        label: '1970‚Äë–µ',
        year: '1970‚Äì1979',
        hint: '‚ö° Pong, Atari 2600. –†–æ–∂–¥–µ–Ω–∏–µ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏.',
        link: 'pages/1970s.html',
        pos: { left: '10%', top: '25%' }
      },
      {
        label: '1980‚Äë–µ',
        year: '1980‚Äì1989',
        hint: 'üëæ –ö—Ä–∏–∑–∏—Å, NES, Pac‚ÄëMan. –í–æ—Å—Å—Ç–∞–Ω–∏–µ Nintendo.',
        link: 'pages/1980s.html',
        pos: { left: '70%', top: '20%' }
      },
      {
        label: '1990‚Äë–µ',
        year: '1990‚Äì1999',
        hint: 'üéÆ 3D, PlayStation, Doom. –≠—Ä–∞ CD-ROM.',
        link: 'pages/1990s.html',
        pos: { left: '25%', top: '55%' }
      },
      {
        label: '2000‚Äë–µ',
        year: '2000‚Äì2009',
        hint: 'üåê Xbox, Steam, WoW. –û–Ω–ª–∞–π–Ω-—Ä–µ–≤–æ–ª—é—Ü–∏—è.',
        link: 'pages/2000s.html',
        pos: { left: '80%', top: '65%' }
      },
      {
        label: '2010‚Äë–µ',
        year: '2010‚Äì2019',
        hint: 'üì± Minecraft, Fortnite, VR, –∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç.',
        link: 'pages/2010s.html',
        pos: { left: '35%', top: '80%' }
      },
      {
        label: '2020‚Äë–µ',
        year: '2020‚Äì2029',
        hint: '‚òÅÔ∏è –û–±–ª–∞–∫–∞, –º–µ—Ç–∞–≤—Å–µ–ª–µ–Ω–Ω—ã–µ, –ò–ò, Steam Deck.',
        link: 'pages/2020s.html',
        pos: { left: '60%', top: '45%' }
      }
    ];

    const markerLayer = document.getElementById('markerLayer');
    const svg = document.getElementById('trailSvg');

    // –†–∏—Å—É–µ–º —Ç–æ—á–∫–∏
    function buildMarkers() {
      markerLayer.innerHTML = '';
      decades.forEach((d) => {
        const marker = document.createElement('div');
        marker.className = 'trail-marker';
        marker.style.left = d.pos.left;
        marker.style.top = d.pos.top;

        marker.innerHTML = `
          <div class="marker-stone">${d.label.replace('‚Äë–µ', '')}</div>
          <span class="year-badge">${d.year}</span>
          <div class="marker-hint">${d.hint}</div>
        `;

        marker.addEventListener('click', () => {
          window.location.href = d.link;
        });

        markerLayer.appendChild(marker);
      });
    }

    // –†–∏—Å—É–µ–º –∏–∑–≤–∏–ª–∏—Å—Ç—ã–π –ø—É—Ç—å (SVG)
    function drawPath() {
      const points = [];
      document.querySelectorAll('.trail-marker').forEach(el => {
        const rect = el.getBoundingClientRect();
        const parentRect = el.parentElement.getBoundingClientRect();
        const x = rect.left + rect.width/2 - parentRect.left;
        const y = rect.top + rect.height/2 - parentRect.top;
        points.push({ x, y });
      });

      if (points.length < 2) return;

      let pathData = `M ${points[0].x},${points[0].y}`;
      for (let i = 1; i < points.length; i++) {
        const prev = points[i-1];
        const curr = points[i];
        const cpX1 = prev.x + (curr.x - prev.x) * 0.25;
        const cpY1 = prev.y;
        const cpX2 = curr.x - (curr.x - prev.x) * 0.25;
        const cpY2 = curr.y;
        pathData += ` C ${cpX1},${cpY1} ${cpX2},${cpY2} ${curr.x},${curr.y}`;
      }

      svg.innerHTML = '';
      const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
      path.setAttribute('d', pathData);
      path.setAttribute('stroke', '#9eb09b');
      path.setAttribute('stroke-width', '5');
      path.setAttribute('stroke-dasharray', '12 12');
      path.setAttribute('fill', 'none');
      svg.appendChild(path);
    }

    window.addEventListener('DOMContentLoaded', () => {
      buildMarkers();
      setTimeout(drawPath, 60); // –∂–¥—ë–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
    });

    window.addEventListener('resize', drawPath);
  </script>
</body>
</html>